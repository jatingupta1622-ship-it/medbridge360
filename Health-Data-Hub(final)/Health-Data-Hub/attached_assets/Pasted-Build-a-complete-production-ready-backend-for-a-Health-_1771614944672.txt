Build a complete production-ready backend for a Health Tourism Platform.

ğŸ¯ Goal:
The API must be fully ready before the frontend starts consuming it. All endpoints must work correctly in browser/Postman. The backend must be deployable on Render.

âš™ï¸ Tech Stack

Node.js

Express

CommonJS syntax (require / module.exports)

Use dotenv for environment variables

Enable CORS

Use express.json()

Use clean folder structure

Production-ready formatting

ğŸ“ Required Project Structure

/server.js
/routes/
/controllers/
/services/
/middleware/
/data/hospitals.json

Use clear separation of concerns (routes â†’ controllers â†’ services).

ğŸ“¦ hospitals.json

Create a realistic dataset with exactly 10 hospitals.

Each hospital must contain:

{
id: number,
name: string,
city: string,
country: string,
specializations: [string],
rating: number (3.5â€“5),
treatmentCostRange: {
min: number,
max: number,
currency: "USD"
},
internationalPatientsSupported: boolean,
contact: {
email: string,
phone: string
}
}

ğŸš€ Required API Routes
1ï¸âƒ£ GET /hospitals

Return all hospitals

Response format:
{
success: true,
count: number,
data: []
}

2ï¸âƒ£ POST /recommend

Request body:
{
"country": "India",
"specialization": "Cardiology",
"weightRating": 0.7,
"weightDistance": 0.3
}

Logic:

Validate input

Filter by country + specialization

Generate mock distance (1â€“10)

Score formula:
score = (rating * weightRating) - (distance * weightDistance)

Sort by score descending

Return top 3 hospitals

Include score + distance in response

3ï¸âƒ£ POST /compare

Request body:
{
"hospitalIds": [1, 4, 7]
}

Return matching hospitals

If invalid IDs, return proper error

4ï¸âƒ£ POST /trip

Request body:
{
"hospitalId": 1,
"arrivalDate": "2026-04-10",
"stayDays": 7
}

Generate timeline JSON like:
{
hospital: {},
timeline: [
{ day: 1, activity: "Arrival & hotel check-in" },
{ day: 2, activity: "Initial consultation" },
...
]
}

5ï¸âƒ£ POST /chat

Request body:
{
"message": "Which hospital is best for heart surgery?"
}

Forward message to OpenAI API (use environment variable OPENAI_API_KEY)

Return AI response

Handle API errors properly

ğŸ›¡ Middleware

Global error handler

404 handler

Basic validation middleware

Proper status codes

ğŸ§  Code Requirements

Use async/await

Proper try/catch

Clean JSON response format:

{
success: boolean,
message?: string,
data?: any
}

No duplicate logic

Move business logic to services

Use reusable utility functions where needed

ğŸ§ª Testing

Ensure:

All routes work in Postman

GET routes work in browser

No â€œCannot GET /routeâ€ errors

Proper error handling tested

ğŸš€ Deployment

Prepare project for Render deployment:

Add start script in package.json

Use process.env.PORT

Include clear deployment instructions in comments

ğŸ“Œ Final Output Instructions

Generate:

Full backend project code

Clearly separated files with comments like:
// ===== server.js =====
// ===== routes/hospitalRoutes.js =====

No explanations

Only code output